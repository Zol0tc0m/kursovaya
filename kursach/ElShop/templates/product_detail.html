{% extends "base.html" %}
{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="row">
        <div class="col-md-6">
            {% if product.image %}
                <img src="{{ product.image.url }}" class="img-fluid rounded shadow-sm" alt="{{ product.name }}">
            {% else %}
                <img src="https://via.placeholder.com/600x400?text={{ product.name|urlencode }}" class="img-fluid rounded shadow-sm" alt="{{ product.name }}">
            {% endif %}
        </div>

        <div class="col-md-6">
            <h2>{{ product.name }}</h2>
            <p class="text-muted">Артикул: {{ product.sku }}</p>
            <h4 class="text-success fw-bold">{{ product.base_price|floatformat:2 }} €</h4>

            {% if product.description %}
                <p class="mt-3">{{ product.description }}</p>
            {% else %}
                <p class="text-muted mt-3">Описание отсутствует.</p>
            {% endif %}

            <form method="post" action="{% url 'add_to_cart' product.id %}">
                {% csrf_token %}
                <button class="btn btn-primary btn-lg mt-3">Добавить в корзину</button>
            </form>

            <a href="{% url 'catalog' %}" class="btn btn-outline-secondary mt-3">← Назад в каталог</a>
        </div>
    </div>
</div>
{% endblock %}
